Benchmark numbers with Dev Drive perf fixes, Windows Insider Preview Jan 2024 with [prerelease CoW-in-Win32](https://blogs.windows.com/windows-insider/2023/10/25/announcing-windows-11-insider-preview-build-25982-canary-channel/) feature flag turned on. Win11 23H2 10.0.26020.1000, 16-core Azure AMD v5 VM.

`ExtentsOnly` = Files to be copied/cloned were created only by setting the file extents.
`WroteData` = Files were also written to. ReFS/Dev Drive behaves differently in this case.

BenchmarkDotNet v0.13.12, Windows 11 (10.0.26020.1000)
AMD Ryzen 7 PRO 4750U with Radeon Graphics, 1 CPU, 16 logical and 8 physical cores
.NET SDK 8.0.101
  [Host]     : .NET 6.0.26 (6.0.2623.60508), X64 RyuJIT AVX2
  Job-JEUCCL : .NET 6.0.26 (6.0.2623.60508), X64 RyuJIT AVX2

## Disable Write Cache Flush flag = Enabled

| Method    | FileSize | FileContents | Mean       | Error     | StdDev      | Median     | Ratio | RatioSD |
|---------- |--------- |------------- |-----------:|----------:|------------:|-----------:|------:|--------:|
| File.Copy | 0        | ExtentsOnly  |   260.5 us |  10.12 us |    29.05 us |   259.6 us |  1.00 |    0.00 |
| CoW       | 0        | ExtentsOnly  |   229.9 us |   5.58 us |    16.10 us |   228.4 us |  0.89 |    0.11 |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 0        | WroteData    |   237.1 us |   7.70 us |    22.47 us |   230.1 us |  1.00 |    0.00 |
| CoW       | 0        | WroteData    |   229.0 us |   5.77 us |    16.37 us |   228.7 us |  0.97 |    0.11 |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 1        | ExtentsOnly  |   538.8 us |  20.13 us |    57.76 us |   526.8 us |  1.00 |    0.00 |
| CoW       | 1        | ExtentsOnly  |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 1        | WroteData    |   526.4 us |  12.42 us |    35.43 us |   530.7 us |  1.00 |    0.00 |
| CoW       | 1        | WroteData    |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 1024     | ExtentsOnly  |   534.0 us |  17.85 us |    52.62 us |   526.9 us |  1.00 |    0.00 |
| CoW       | 1024     | ExtentsOnly  |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 1024     | WroteData    |   518.8 us |  18.06 us |    52.69 us |   523.0 us |  1.00 |    0.00 |
| CoW       | 1024     | WroteData    |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 16384    | ExtentsOnly  |   499.3 us |  24.00 us |    68.07 us |   482.5 us |  1.00 |    0.00 |
| CoW       | 16384    | ExtentsOnly  |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 16384    | WroteData    |   555.4 us |  20.17 us |    58.19 us |   550.2 us |  1.00 |    0.00 |
| CoW       | 16384    | WroteData    |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 262144   | ExtentsOnly  |   716.1 us |  21.16 us |    61.71 us |   712.4 us |  1.00 |    0.00 |
| CoW       | 262144   | ExtentsOnly  |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 262144   | WroteData    |   632.1 us |  17.40 us |    50.19 us |   626.1 us |  1.00 |    0.00 |
| CoW       | 262144   | WroteData    |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 1048576  | ExtentsOnly  | 1,211.9 us |  39.56 us |   107.64 us | 1,192.3 us |  1.00 |    0.00 |
| CoW       | 1048576  | ExtentsOnly  |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 1048576  | WroteData    | 1,184.9 us |  27.81 us |    79.35 us | 1,171.1 us |  1.00 |    0.00 |
| CoW       | 1048576  | WroteData    |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 16777216 | ExtentsOnly  | 8,307.6 us | 475.35 us | 1,301.27 us | 7,787.6 us |  1.00 |    0.00 |
| CoW       | 16777216 | ExtentsOnly  |         NA |        NA |          NA |         NA |     ? |       ? |
|           |          |              |            |           |             |            |       |         |
| File.Copy | 16777216 | WroteData    | 8,553.3 us | 318.46 us |   892.99 us | 8,275.6 us |  1.00 |    0.00 |
| CoW       | 16777216 | WroteData    |         NA |        NA |          NA |         NA |     ? |       ? |

## Disable Write Cache Flush flag = Disabled (OS default)
|    Method | FileSize | FileContents |     Mean |    Error |   StdDev |   Median | Ratio | RatioSD |
|---------- |--------- |------------- |---------:|---------:|---------:|---------:|------:|--------:|
| File.Copy |        0 |  ExtentsOnly | 167.8 us |  1.40 us |  1.09 us | 168.0 us |  1.00 |    0.00 |
|       CoW |        0 |  ExtentsOnly | 150.4 us |  2.49 us |  1.94 us | 151.0 us |  0.90 |    0.01 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |        0 |    WroteData | 168.7 us |  2.81 us |  3.46 us | 167.8 us |  1.00 |    0.00 |
|       CoW |        0 |    WroteData | 149.9 us |  2.88 us |  2.41 us | 150.2 us |  0.89 |    0.03 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |        1 |  ExtentsOnly | 252.2 us |  5.11 us | 14.57 us | 244.7 us |  1.00 |    0.00 |
|       CoW |        1 |  ExtentsOnly | 188.7 us |  4.19 us | 11.88 us | 182.9 us |  0.75 |    0.06 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |        1 |    WroteData | 469.5 us |  9.35 us | 22.03 us | 471.7 us |  1.00 |    0.00 |
|       CoW |        1 |    WroteData | 394.2 us |  8.24 us | 23.65 us | 393.2 us |  0.84 |    0.06 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |     1024 |  ExtentsOnly | 285.2 us |  5.69 us | 14.98 us | 277.4 us |  1.00 |    0.00 |
|       CoW |     1024 |  ExtentsOnly | 219.3 us |  4.37 us | 12.19 us | 213.1 us |  0.77 |    0.06 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |     1024 |    WroteData | 499.3 us |  9.94 us | 21.18 us | 499.7 us |  1.00 |    0.00 |
|       CoW |     1024 |    WroteData | 439.1 us |  9.02 us | 26.18 us | 435.5 us |  0.88 |    0.06 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |    16384 |  ExtentsOnly | 275.1 us |  5.55 us | 15.91 us | 267.9 us |  1.00 |    0.00 |
|       CoW |    16384 |  ExtentsOnly | 217.9 us |  4.35 us | 11.85 us | 213.1 us |  0.79 |    0.06 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |    16384 |    WroteData | 285.0 us |  5.52 us | 15.40 us | 280.4 us |  1.00 |    0.00 |
|       CoW |    16384 |    WroteData | 212.6 us |  2.91 us |  5.02 us | 211.5 us |  0.74 |    0.04 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |   262144 |  ExtentsOnly | 276.8 us |  5.65 us | 16.40 us | 269.4 us |  1.00 |    0.00 |
|       CoW |   262144 |  ExtentsOnly | 218.9 us |  4.37 us | 11.51 us | 214.0 us |  0.79 |    0.05 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |   262144 |    WroteData | 278.2 us |  5.53 us | 14.56 us | 270.9 us |  1.00 |    0.00 |
|       CoW |   262144 |    WroteData | 215.3 us |  4.29 us |  7.95 us | 212.1 us |  0.78 |    0.04 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |  1048576 |  ExtentsOnly | 276.6 us |  5.52 us | 11.16 us | 273.4 us |  1.00 |    0.00 |
|       CoW |  1048576 |  ExtentsOnly | 231.0 us |  6.36 us | 18.05 us | 225.5 us |  0.82 |    0.07 |
|           |          |              |          |          |          |          |       |         |
| File.Copy |  1048576 |    WroteData | 284.1 us |  5.72 us | 16.43 us | 276.7 us |  1.00 |    0.00 |
|       CoW |  1048576 |    WroteData | 223.7 us |  5.10 us | 14.46 us | 219.2 us |  0.79 |    0.06 |
|           |          |              |          |          |          |          |       |         |
| File.Copy | 16777216 |  ExtentsOnly | 498.1 us |  9.54 us | 20.74 us | 496.8 us |  1.00 |    0.00 |
|       CoW | 16777216 |  ExtentsOnly | 235.7 us |  3.52 us |  2.75 us | 236.0 us |  0.48 |    0.02 |
|           |          |              |          |          |          |          |       |         |
| File.Copy | 16777216 |    WroteData | 545.4 us | 11.69 us | 33.36 us | 547.4 us |  1.00 |    0.00 |
|       CoW | 16777216 |    WroteData | 239.7 us |  5.50 us | 15.78 us | 232.2 us |  0.44 |    0.04 |
